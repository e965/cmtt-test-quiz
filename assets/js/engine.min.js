"use strict";import{U}from"./modules/u.min.js";import{QuizRenderer}from"./modules/quiz-renderer.min.js";import{QUIZ_DATA}from"./modules/quiz-data.min.js";let prepareQuestions=e=>{let t=e,n="expl_common_text";return t.forEach((e=>{e.answers.forEach((t=>{n in e&&!("special_expl"in t)&&(t.explanation+=" "+e[n]),t.text=U.prepareText(t.text),t.explanation=U.prepareText(t.explanation)})),n in e&&delete e[n]})),t},updateButtonsActions=()=>{$make.qs("button[data-action]",["a"]).forEach((e=>{e.addEventListener("click",(e=>{switch(e.target.dataset.action){case"start-quiz":U.showScreen("quiz");break;default:alert("На кнопку не назначено действие!")}}))}))};document.addEventListener("DOMContentLoaded",(()=>{U.showScreen("loading"),updateButtonsActions();let e=prepareQuestions(QUIZ_DATA.questions);new QuizRenderer(e,QUIZ_DATA.results).showQuestion(),(()=>{let e=$check.get("quiz-width");e&&Number.isInteger(Number(e))&&Number(e)>1&&document.documentElement.style.setProperty("--quiz-width",e+"px")})()})),window.addEventListener("load",(()=>{ElementQueries.init(),U.showScreen("start")}));